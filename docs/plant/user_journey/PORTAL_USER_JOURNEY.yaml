# Plant Phase - Backend Journey YAML
# Specification for Genesis Production Implementation

metadata:
  status: "specified"
  phase: "plant"
  user_type: "platform_portal_api"
  updated: "2026-01-13"

architecture:
  core_services:
    - {name: "Genesis Webhook", port: 9001}
    - {name: "Constitutional Query API", port: 8004}
    - {name: "Precedent Seed Storage", tech: "PostgreSQL + MiniLM-384"}
    - {name: "Audit Trail", tech: "PostgreSQL append-only SHA-256"}
    - {name: "Health Metrics", port: 8019}

journey_folds:
  fold_1_bootstrap:
    stages:
      - {id: "1.1", name: "Infrastructure Provisioning", endpoint: "POST /api/admin/plant/bootstrap"}
      - {id: "1.2", name: "Genesis Initialization", endpoint: "POST /api/admin/plant/genesis/initialize"}
  
  fold_2_runtime:
    stages:
      - {id: "2.1", name: "Skill Certification", endpoint: "POST https://plant.demo.waooaw.com:9001/certify/skill"}
      - {id: "2.2", name: "JobRole Certification", endpoint: "POST https://plant.demo.waooaw.com:9001/certify/job"}
  
  fold_3_manufacturing:
    stages:
      - {id: "3.1", name: "Agent Creation", endpoint: "POST https://plant.demo.waooaw.com:9001/validate/agent"}
  
  fold_4_evolution:
    stages:
      - {id: "4.1", name: "Constitutional Drift", endpoint: "POST /api/admin/plant/agents/recertify"}
      - {id: "4.2", name: "Precedent Supersession", endpoint: "POST https://plant.demo.waooaw.com:9001/precedents/supersede"}
      - {id: "4.3", name: "DLQ Remediation"}
  
  fold_5_helpdesk:
    stages:
      - {id: "5.1", name: "Health Monitoring", endpoint: "GET /api/health/genesis"}
      - {id: "5.2", name: "Agent Rejection Appeal"}
      - {id: "5.3", name: "Audit Log Forensics", endpoint: "GET /api/admin/plant/audit/search"}

gaps:
  critical: ["GAP-PLANT-1", "GAP-PLANT-4", "GAP-PLANT-7"]
  high: ["GAP-PLANT-2", "GAP-PLANT-5", "GAP-PLANT-8", "GAP-PLANT-9"]
  medium: ["GAP-PLANT-3", "GAP-PLANT-10", "GAP-PLANT-11", "GAP-PLANT-12"]
