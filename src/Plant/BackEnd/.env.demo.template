# WAOOAW Plant - Demo Environment
# Environment: demo (GCP Cloud Run)
# Database: Cloud SQL PostgreSQL (demo instance)
# Purpose: Customer demos, proof-of-concept, short-lived data

# Application
APP_NAME="WAOOAW Plant Phase API (Demo)"
APP_VERSION="0.1.0"
ENVIRONMENT="demo"
DEBUG=false
LOG_LEVEL="INFO"

# Database - Cloud SQL (demo instance)
# Format: postgresql://user:pass@/dbname?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
DATABASE_URL="postgresql://plant_demo:${DB_PASSWORD}@/plant_demo?host=/cloudsql/${GCP_PROJECT_ID}:${GCP_REGION}:plant-demo"
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=5
DATABASE_ECHO=false

# Redis - Cloud Memorystore (demo tier)
REDIS_URL="redis://${REDIS_HOST}:6379/0"
REDIS_TTL_SECONDS=43200  # 12 hours

# ML Service - Cloud Run (ml-inference-demo)
ML_SERVICE_URL="https://ml-inference-demo-${CLOUD_RUN_HASH}-uc.a.run.app"
ML_SERVICE_TIMEOUT_MS=100
ML_EMBEDDING_DIMENSION=384
ML_MODEL="MiniLM-384"

# Security - Secret Manager
SECRET_KEY="${SECRET_KEY_DEMO}"  # From GCP Secret Manager
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Cryptography - Secret Manager
RSA_KEY_SIZE=4096
HASH_ALGORITHM="SHA256"
RSA_PRIVATE_KEY_PATH="projects/${GCP_PROJECT_ID}/secrets/plant-rsa-private-demo/versions/latest"
RSA_PUBLIC_KEY_PATH="projects/${GCP_PROJECT_ID}/secrets/plant-rsa-public-demo/versions/latest"

# Performance SLAs - Production-like
VALIDATE_SELF_SLA_MS=10
EVOLVE_SLA_MS=5
VERIFY_AMENDMENT_SLA_MS=20
PGVECTOR_SEARCH_SLA_MS=500
SCHEMA_MIGRATION_SLA_LATENCY_INCREASE_PERCENT=10

# Cost Governance - Enabled
EMBEDDING_QUALITY_STABILITY_THRESHOLD=0.85
EMBEDDING_QUALITY_CHECK_SCHEDULE="02:00"

# API
API_V1_PREFIX="/api/v1"
CORS_ORIGINS=["https://demo.waooaw.dev","https://plant-demo.waooaw.dev"]

# Google Cloud
GCP_PROJECT_ID="${GCP_PROJECT_ID}"
GCP_REGION="us-central1"
CLOUD_SQL_CONNECTION_NAME="${GCP_PROJECT_ID}:us-central1:plant-demo"

# Monitoring
ENABLE_PROMETHEUS=true
ENABLE_CLOUD_LOGGING=true
ENABLE_CLOUD_TRACE=true
